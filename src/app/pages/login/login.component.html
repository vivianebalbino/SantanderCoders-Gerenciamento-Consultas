<div *ngIf="isLoading">
  <app-loading></app-loading>
</div>
<section class="bg-primary py-3 py-md-5 py-xl-8">
  <div class="container">
    <div class="row align-items-center gy-4">
      <div class="col-12 col-md-6 col-xl-7">
        <div class="d-flex justify-content-center text-bg-primary">
          <div class="col-12 col-xl-9">
            <img
              alt="Logo"
              class="mb-4 img-fluid rounded"
              height="30"
              loading="lazy"
              src="medical.png"
              width="100"
            />
            <hr class="mb-4 border-primary-subtle" />
            <h2 class="mb-4 h1">
              Criamos soluções inovadoras para transformar a gestão de consultas
              na sua clínica.
            </h2>
            <p class="lead mb-5">
              Aprimore o atendimento e otimize o agendamento com a nossa
              plataforma inteligente de gerenciamento.
            </p>
            <div class="text-end">
              <svg
                class="bi bi-grip-horizontal"
                fill="currentColor"
                height="48"
                viewBox="0 0 16 16"
                width="48"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M2 8a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm3 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm3 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm3 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm3 3a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"
                />
              </svg>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12 col-md-6 col-xl-5">
        <div class="border-0 card rounded-4">
          <div class="card-body p-3 p-md-4 p-xl-5">
            <div class="row">
              <div class="col-12">
                <div class="mb-4">
                  <h3>Login</h3>
                  <p>
                    Não tem uma conta?
                    <a [routerLink]="['/register']">Registre-se</a>
                  </p>
                </div>
              </div>
            </div>

            <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
              <div class="row gy-3 overflow-hidden">
                <div class="col-12">
                  <div class="form-floating mb-3">
                    <input
                      type="email"
                      class="form-control"
                      id="email"
                      formControlName="email"
                      placeholder="name@example.com"
                    />
                    <label class="form-label" for="email">Email</label>
                    <div
                      *ngIf="
                        loginForm.get('email')?.invalid &&
                        loginForm.get('email')?.touched
                      "
                    >
                      <small
                        *ngIf="loginForm.get('email')?.errors?.['required']"
                        >O email é obrigatório.</small
                      >
                      <small *ngIf="loginForm.get('email')?.errors?.['email']"
                        >Digite um email válido.</small
                      >
                    </div>
                  </div>
                </div>

                <div class="col-12">
                  <div class="form-floating mb-3">
                    <input
                      type="password"
                      class="form-control"
                      id="password"
                      formControlName="password"
                      placeholder="Password"
                    />
                    <label class="form-label" for="password">Password</label>
                    <div
                      *ngIf="
                        loginForm.get('password')?.invalid &&
                        loginForm.get('password')?.touched
                      "
                    >
                      <small>Senha é obrigatória.</small>
                    </div>
                  </div>
                </div>

                <div class="col-12">
                  <div class="d-grid">
                    <button
                      type="submit"
                      class="btn btn-lg btn-primary"
                      [disabled]="loginForm.invalid"
                    >
                      Login
                    </button>
                  </div>
                </div>
              </div>
            </form>

            <div *ngIf="errorMessage" class="error text-danger">{{ errorMessage }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
